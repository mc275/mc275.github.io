{"meta":{"title":"尺墨轩志的博客","subtitle":"志不强者智不达，言不信者行不果","description":"多传感器融合，导航定位","author":"尺墨轩志","url":"http://chimoxuanzhi.coding.me"},"pages":[{"title":"","date":"2018-03-30T15:06:55.559Z","updated":"2018-03-30T15:06:55.559Z","comments":true,"path":"404.html","permalink":"http://chimoxuanzhi.coding.me/404.html","excerpt":"","text":""},{"title":"","date":"2018-03-31T01:41:39.884Z","updated":"2018-03-31T01:41:39.884Z","comments":true,"path":"baidu_verify_huZUUQHqHR.html","permalink":"http://chimoxuanzhi.coding.me/baidu_verify_huZUUQHqHR.html","excerpt":"","text":"huZUUQHqHR"},{"title":"","date":"2018-03-30T15:06:55.559Z","updated":"2018-03-30T15:06:55.559Z","comments":true,"path":"404/index.html","permalink":"http://chimoxuanzhi.coding.me/404/index.html","excerpt":"","text":"var NexT = window.NexT || {}; var CONFIG = { root: '/', scheme: 'Gemini', version: '6.0.1', sidebar: {\"position\":\"left\",\"display\":\"post\",\"offset\":12,\"b2t\":true,\"scrollpercent\":true,\"onmobile\":false}, fancybox: false, fastclick: false, lazyload: false, tabs: true, motion: {\"enable\":true,\"async\":false,\"transition\":{\"post_block\":\"fadeIn\",\"post_header\":\"slideDownIn\",\"post_body\":\"slideDownIn\",\"coll_header\":\"slideLeftIn\",\"sidebar\":\"slideUpIn\"}}, algolia: { applicationID: '', apiKey: '', indexName: '', hits: {\"per_page\":10}, labels: {\"input_placeholder\":\"Search for Posts\",\"hits_empty\":\"We didn't find any results for the search: ${query}\",\"hits_stats\":\"${hits} results found in ${time} ms\"} } }; | Fong Ray's Blog var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?0dd86dc030c2af1e3ddfefe38f44d297\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); .use-motion .motion-element, .use-motion .brand, .use-motion .menu-item, .sidebar-inner, .use-motion .post-block, .use-motion .pagination, .use-motion .comments, .use-motion .post-header, .use-motion .post-body, .use-motion .collection-title { opacity: initial; } .use-motion .logo, .use-motion .site-title, .use-motion .site-subtitle { opacity: initial; top: initial; } .use-motion { .logo-line-before i { left: initial; } .logo-line-after i { right: initial; } } Fong Ray's Blog Eternal vigilance is the price of liberty. 首页 标签26 分类6 归档18 关于 公益404 搜索 Please enable JavaScript to view the comments powered by Disqus. Yi Mu iOS | C/C++ | TED 18 日志 6 分类 26 标签 Links Json Editor Raincal's Blog 0% &copy; 2014 &mdash; 2018 Yi Mu 由 Hexo 强力驱动 | 主题 &mdash; NexT.Gemini v6.0.1 if (Object.prototype.toString.call(window.Promise) !== '[object Function]') { window.Promise = null; } var disqus_config = function () { this.page.url = 'http://fangr.cc/404/index.html'; this.page.identifier = '404/index.html'; this.page.title = ''; }; function loadComments () { var d = document, s = d.createElement('script'); s.src = 'https://fangr-cc.disqus.com/embed.js'; s.setAttribute('data-timestamp', '' + +new Date()); (d.head || d.body).appendChild(s); } loadComments(); // Popup Window; var isfetched = false; var isXml = true; // Search DB path; var search_path = \"search.xml\"; if (search_path.length === 0) { search_path = \"search.xml\"; } else if (/json$/i.test(search_path)) { isXml = false; } var path = \"/\" + search_path; // monitor main search box; var onPopupClose = function (e) { $('.popup').hide(); $('#local-search-input').val(''); $('.search-result-list').remove(); $('#no-result').remove(); $(\".local-search-pop-overlay\").remove(); $('body').css('overflow', ''); } function proceedsearch() { $(\"body\") .append('') .css('overflow', 'hidden'); $('.search-popup-overlay').click(onPopupClose); $('.popup').toggle(); var $localSearchInput = $('#local-search-input'); $localSearchInput.attr(\"autocapitalize\", \"none\"); $localSearchInput.attr(\"autocorrect\", \"off\"); $localSearchInput.focus(); } // search function; var searchFunc = function(path, search_id, content_id) { 'use strict'; // start loading animation $(\"body\") .append('' + '' + '' + '' + '') .css('overflow', 'hidden'); $(\"#search-loading-icon\").css('margin', '20% auto 0 auto').css('text-align', 'center'); $.ajax({ url: path, dataType: isXml ? \"xml\" : \"json\", async: true, success: function(res) { // get the contents from search data isfetched = true; $('.popup').detach().appendTo('.header-inner'); var datas = isXml ? $(\"entry\", res).map(function() { return { title: $(\"title\", this).text(), content: $(\"content\",this).text(), url: $(\"url\" , this).text() }; }).get() : res; var input = document.getElementById(search_id); var resultContent = document.getElementById(content_id); var inputEventFunction = function() { var searchText = input.value.trim().toLowerCase(); var keywords = searchText.split(/[\\s\\-]+/); if (keywords.length > 1) { keywords.push(searchText); } var resultItems = []; if (searchText.length > 0) { // perform local searching datas.forEach(function(data) { var isMatch = false; var hitCount = 0; var searchTextCount = 0; var title = data.title.trim(); var titleInLowerCase = title.toLowerCase(); var content = data.content.trim().replace(/]+>/g,\"\"); var contentInLowerCase = content.toLowerCase(); var articleUrl = decodeURIComponent(data.url); var indexOfTitle = []; var indexOfContent = []; // only match articles with not empty titles if(title != '') { keywords.forEach(function(keyword) { function getIndexByWord(word, text, caseSensitive) { var wordLen = word.length; if (wordLen === 0) { return []; } var startPosition = 0, position = [], index = []; if (!caseSensitive) { text = text.toLowerCase(); word = word.toLowerCase(); } while ((position = text.indexOf(word, startPosition)) > -1) { index.push({position: position, word: word}); startPosition = position + wordLen; } return index; } indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false)); indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false)); }); if (indexOfTitle.length > 0 || indexOfContent.length > 0) { isMatch = true; hitCount = indexOfTitle.length + indexOfContent.length; } } // show search results if (isMatch) { // sort index by position of keyword [indexOfTitle, indexOfContent].forEach(function (index) { index.sort(function (itemLeft, itemRight) { if (itemRight.position !== itemLeft.position) { return itemRight.position - itemLeft.position; } else { return itemLeft.word.length - itemRight.word.length; } }); }); // merge hits into slices function mergeIntoSlice(text, start, end, index) { var item = index[index.length - 1]; var position = item.position; var word = item.word; var hits = []; var searchTextCountInSlice = 0; while (position + word.length position) { index.pop(); } else { break; } } } searchTextCount += searchTextCountInSlice; return { hits: hits, start: start, end: end, searchTextCount: searchTextCountInSlice }; } var slicesOfTitle = []; if (indexOfTitle.length != 0) { slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle)); } var slicesOfContent = []; while (indexOfContent.length != 0) { var item = indexOfContent[indexOfContent.length - 1]; var position = item.position; var word = item.word; // cut out 100 characters var start = position - 20; var end = position + 80; if(start < 0){ start = 0; } if (end < position + word.length) { end = position + word.length; } if(end > content.length){ end = content.length; } slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent)); } // sort slices in content by search text's count and hits' count slicesOfContent.sort(function (sliceLeft, sliceRight) { if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) { return sliceRight.searchTextCount - sliceLeft.searchTextCount; } else if (sliceLeft.hits.length !== sliceRight.hits.length) { return sliceRight.hits.length - sliceLeft.hits.length; } else { return sliceLeft.start - sliceRight.start; } }); // select top N slices in content var upperBound = parseInt('1'); if (upperBound >= 0) { slicesOfContent = slicesOfContent.slice(0, upperBound); } // highlight title and content function highlightKeyword(text, slice) { var result = ''; var prevEnd = slice.start; slice.hits.forEach(function (hit) { result += text.substring(prevEnd, hit.position); var end = hit.position + hit.length; result += '' + text.substring(hit.position, end) + ''; prevEnd = end; }); result += text.substring(prevEnd, slice.end); return result; } var resultItem = ''; if (slicesOfTitle.length != 0) { resultItem += \"\" + highlightKeyword(title, slicesOfTitle[0]) + \"\"; } else { resultItem += \"\" + title + \"\"; } slicesOfContent.forEach(function (slice) { resultItem += \"\" + \"\" + highlightKeyword(content, slice) + \"...\" + \"\"; }); resultItem += \"\"; resultItems.push({ item: resultItem, searchTextCount: searchTextCount, hitCount: hitCount, id: resultItems.length }); } }) }; if (keywords.length === 1 && keywords[0] === \"\") { resultContent.innerHTML = '' } else if (resultItems.length === 0) { resultContent.innerHTML = '' } else { resultItems.sort(function (resultLeft, resultRight) { if (resultLeft.searchTextCount !== resultRight.searchTextCount) { return resultRight.searchTextCount - resultLeft.searchTextCount; } else if (resultLeft.hitCount !== resultRight.hitCount) { return resultRight.hitCount - resultLeft.hitCount; } else { return resultRight.id - resultLeft.id; } }); var searchResultList = ''; resultItems.forEach(function (result) { searchResultList += result.item; }) searchResultList += \"\"; resultContent.innerHTML = searchResultList; } } if ('auto' === 'auto') { input.addEventListener('input', inputEventFunction); } else { $('.search-icon').click(inputEventFunction); input.addEventListener('keypress', function (event) { if (event.keyCode === 13) { inputEventFunction(); } }); } // remove loading animation $(\".local-search-pop-overlay\").remove(); $('body').css('overflow', ''); proceedsearch(); } }); } // handle and trigger popup window; $('.popup-trigger').click(function(e) { e.stopPropagation(); if (isfetched === false) { searchFunc(path, 'local-search-input', 'local-search-result'); } else { proceedsearch(); }; }); $('.popup-btn-close').click(onPopupClose); $('.popup').click(function(e){ e.stopPropagation(); }); $(document).on('keyup', function (event) { var shouldDismissSearchPopup = event.which === 27 && $('.search-popup').is(':visible'); if (shouldDismissSearchPopup) { onPopupClose(); } }); (function(){ var bp = document.createElement('script'); var curProtocol = window.location.protocol.split(':')[0]; if (curProtocol === 'https'){ bp.src = 'https://zz.bdstatic.com/linksubmit/push.js'; } else{ bp.src = 'http://push.zhanzhang.baidu.com/push.js'; } var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(bp, s); })();"},{"title":"分类","date":"2018-03-30T08:50:30.000Z","updated":"2018-03-30T15:06:55.559Z","comments":true,"path":"categories/index.html","permalink":"http://chimoxuanzhi.coding.me/categories/index.html","excerpt":"","text":""},{"title":"标签","date":"2018-03-30T08:45:53.000Z","updated":"2018-03-30T15:06:55.559Z","comments":true,"path":"tags/index.html","permalink":"http://chimoxuanzhi.coding.me/tags/index.html","excerpt":"","text":""},{"title":"关于我","date":"2018-03-30T08:52:53.000Z","updated":"2018-03-30T15:06:55.559Z","comments":true,"path":"about/index.html","permalink":"http://chimoxuanzhi.coding.me/about/index.html","excerpt":"","text":""}],"posts":[{"title":"Hello World","slug":"hello-world","date":"2018-03-30T15:06:55.559Z","updated":"2018-03-30T15:06:55.559Z","comments":true,"path":"2018/03/30/hello-world/","link":"","permalink":"http://chimoxuanzhi.coding.me/2018/03/30/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[{"name":"Web","slug":"Web","permalink":"http://chimoxuanzhi.coding.me/categories/Web/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://chimoxuanzhi.coding.me/tags/Hexo/"}]}]}